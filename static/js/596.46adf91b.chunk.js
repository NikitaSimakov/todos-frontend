"use strict";(self.webpackChunktodos_frontend=self.webpackChunktodos_frontend||[]).push([[596],{596:(t,s,e)=>{e.r(s),e.d(s,{default:()=>Q});var n=e(791),o=e(50),i=e(420),a=e(31);const r="Sidebar_sidebar__S9EbY",l="Sidebar_infobox__ebB4g";var c=e(818),d=e(164),u=e(128);const _="Modal_overlay__b+zEz",m="Modal_modal__yEgVW",x="Modal_closeButton__3V9B-";var p=e(184);const j=document.getElementById("modal-root"),h=t=>{let{children:s,onClose:e}=t;(0,n.useEffect)((()=>{const t=t=>{"Escape"===t.key&&e()};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}}),[e]);const o=(0,p.jsx)("div",{onClick:t=>{t.target===t.currentTarget&&e()},className:_,children:(0,p.jsxs)("section",{className:m,children:[(0,p.jsx)("button",{onClick:e,className:x,type:"button",children:(0,p.jsx)(u.S1K,{})}),s]})});return(0,d.createPortal)(o,j)};var b=e(153),k=e(218);const v="TaskForm_form__zGw36",g="TaskForm_input__lNQP-",T="TaskForm_submitButton__MXFNi",N=t=>{let{onSubmit:s,onClose:e,initialValue:o}=t;const[i,a]=(0,n.useState)((null===o||void 0===o?void 0:o.title)||""),[r,l]=(0,n.useState)((null===o||void 0===o?void 0:o.description)||"");return(0,p.jsxs)("form",{className:v,onSubmit:t=>{t.preventDefault(),""!==i&&""!==r?(s(i,r),a(""),l(""),e()):k.Am.error("Task or description cannot be empty. Enter some text!")},children:[(0,p.jsx)("input",{name:"title",placeholder:"Task title",className:g,value:i,onChange:t=>a(t.target.value)}),(0,p.jsx)("input",{name:"description",placeholder:"Task description",className:g,value:r,onChange:t=>l(t.target.value)}),(0,p.jsx)("button",{type:"submit",className:T,children:"Add task"})]})},f="TaskButton_button__q+7kW",C=t=>{let{name:s,opener:e}=t;return(0,p.jsx)("button",{className:f,onClick:()=>e(!0),type:"button",children:s})},I=()=>{const[t,s]=(0,n.useState)(!1);return{isModalOpen:t,open:()=>s(!0),close:()=>s(!1)}},S=()=>{const{isModalOpen:t,open:s,close:e}=I(),n=(0,b.T)();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(C,{name:"Add new task",opener:s}),t&&(0,p.jsx)(h,{onClose:e,children:(0,p.jsx)(N,{onSubmit:(t,s)=>{n((0,c.gI)({title:t,description:s,status:"pending"}))},onClose:e})})]})},y=()=>{const t=(0,i.v9)(a.jF);const s=function(t){return t.reduce(((t,s)=>(s.status in t?t[s.status]++:t[s.status]=1,t)),{pending:0,progress:0,done:0})}(t);return(0,p.jsxs)("aside",{className:r,children:[(0,p.jsx)("h2",{children:"Task manager"}),(0,p.jsx)(S,{}),(0,p.jsxs)("ul",{className:l,children:[(0,p.jsxs)("li",{children:["Total Tasks: ",t.length]}),(0,p.jsxs)("li",{children:["Pending: ",s.pending]}),(0,p.jsxs)("li",{children:["In Progress: ",s.progress]}),(0,p.jsxs)("li",{children:["Done: ",s.done]})]})]})},w="Task_title__5yswI",B="Task_description__1vJbm",E="Task_buttonsBoxOperation__TO9Fq",F="Task_button__V47ld";var M=e(526);const L={buttonBox:"TaskIcons_buttonBox__wkfD6",button:"TaskIcons_button__vntqI",pending:"TaskIcons_pending__93UD3",progress:"TaskIcons_progress__Q14AU",done:"TaskIcons_done__8bcWb",active:"TaskIcons_active__-H5mP"},O=[{iconId:1,buttonStatus:"pending",icon:(0,p.jsx)(M.MOG,{})},{iconId:2,buttonStatus:"progress",icon:(0,p.jsx)(M.zml,{})},{iconId:3,buttonStatus:"done",icon:(0,p.jsx)(M.usz,{})}],P=t=>{let{status:s,id:e}=t;const n=(0,b.T)(),o=O.map((t=>{let{buttonStatus:o,icon:i,iconId:a}=t;return(0,p.jsx)("button",{title:o,disabled:o===s,onClick:()=>n((0,c.qx)({id:e,status:o})),className:"".concat(L[s]," ").concat(L.button," ").concat(s===o?L.active:""),children:i},a)}));return(0,p.jsx)("div",{className:L.buttonBox,children:o})},q=t=>{let{title:s,description:e,_id:n}=t;const{isModalOpen:o,open:i,close:a}=I(),r=(0,b.T)();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(C,{name:"Edit",opener:i}),o&&(0,p.jsx)(h,{onClose:a,children:(0,p.jsx)(N,{onClose:a,onSubmit:(t,s)=>{r((0,c.xJ)({title:t,description:s,id:n}))},initialValue:{title:s,description:e}})})]})};var z=e(787);const D=t=>{const{_id:s,title:e,status:n,description:o}=t,{addNotification:i}=(0,z.l)(),a=(0,b.T)();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h3",{className:w,children:e}),(0,p.jsx)("p",{className:B,children:o}),(0,p.jsx)(P,{status:n,id:s}),(0,p.jsxs)("div",{className:E,children:[(0,p.jsx)(q,{title:e,description:o,_id:s,status:n}),(0,p.jsx)("button",{type:"button",className:F,onClick:()=>a((0,c._5)({taskId:s,addNotification:i})),children:"Delete"})]})]})},V="TaskList_empty__JmotR",A="TaskList_list__hC4eS",J="TaskList_item__mBbX7",H=()=>{const t=(0,i.v9)(a.jF),s=(0,i.v9)(a.NH);return(0,p.jsx)(p.Fragment,{children:s||0!==t.length?(0,p.jsx)("ul",{className:A,children:t.map((t=>{let{_id:s,title:e,status:n,description:o}=t;return(0,p.jsx)("li",{className:J,children:(0,p.jsx)(D,{_id:s,title:e,status:n,description:o})},s)}))}):(0,p.jsx)("p",{className:V,children:"The task list is empty. Please add tasks.."})})};var W=e(200);const G=t=>{let{children:s}=t;return(0,p.jsx)("main",{children:s})};function Q(){const t=(0,b.T)(),s=(0,i.v9)(a.NH);return(0,n.useEffect)((()=>{t((0,c.Jv)())}),[t]),(0,p.jsxs)(G,{children:[(0,p.jsx)(o.ql,{title:"Your tasks"}),(0,p.jsx)(W.Z,{isLoading:s}),(0,p.jsx)(y,{}),(0,p.jsx)(H,{})]})}}}]);
//# sourceMappingURL=596.46adf91b.chunk.js.map