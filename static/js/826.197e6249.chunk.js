"use strict";(self.webpackChunktodos_frontend=self.webpackChunktodos_frontend||[]).push([[826],{826:(t,e,s)=>{s.r(e),s.d(e,{default:()=>K});var n=s(791),a=s(50),i=s(420),o=s(31);const r="Sidebar_sidebar__S9EbY",c="Sidebar_infobox__ebB4g";var l=s(818),d=s(164),u=s(128);const _="Modal_overlay__b+zEz",m="Modal_modal__yEgVW",x="Modal_closeButton__3V9B-";var j=s(184);const h=document.getElementById("modal-root"),k=t=>{let{children:e,onClose:s}=t;(0,n.useEffect)((()=>{const t=t=>{"Escape"===t.key&&s()};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}}),[s]);const a=(0,j.jsx)("div",{onClick:t=>{t.target===t.currentTarget&&s()},className:_,children:(0,j.jsxs)("section",{className:m,children:[(0,j.jsx)("button",{onClick:s,className:x,type:"button",children:(0,j.jsx)(u.S1K,{})}),e]})});return(0,d.createPortal)(a,h)},p="TaskAdd_form__YTZSk",b="TaskAdd_input__sPaPO",v="TaskAdd_button__j6zaj",f="TaskAdd_submitButton__RU1nC";var g=s(153),T=s(218);const N=()=>{const[t,e]=(0,n.useState)(!1),[s,a]=(0,n.useState)(""),[i,o]=(0,n.useState)(""),r=(0,g.T)(),c=()=>{e(!1),a(""),o("")};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("button",{className:v,onClick:()=>e(!0),children:"Add new task"}),t&&(0,j.jsx)(k,{onClose:c,children:(0,j.jsxs)("form",{className:p,onSubmit:t=>{t.preventDefault();const e=t.currentTarget;""!==s&&""!==i?(r((0,l.gI)({title:s,description:i,status:"pending"})),e.reset(),c()):T.Am.error("Task or description cannot be empty. Enter some text!")},children:[(0,j.jsx)("input",{name:"text",placeholder:"Task title",className:b,onChange:t=>a(t.target.value)}),(0,j.jsx)("input",{name:"text",placeholder:"Task description",className:b,onChange:t=>o(t.target.value)}),(0,j.jsx)("button",{type:"submit",className:f,children:"Add task"})]})})]})},C=()=>{const t=(0,i.v9)(o.jF);const e=function(t){return t.reduce(((t,e)=>(e.status in t?t[e.status]++:t[e.status]=1,t)),{pending:0,progress:0,done:0})}(t);return(0,j.jsxs)("aside",{className:r,children:[(0,j.jsx)("h2",{children:"Task manager"}),(0,j.jsxs)("div",{className:c,children:[(0,j.jsxs)("p",{children:["Total Tasks: ",t.length]}),(0,j.jsxs)("p",{children:["Pending: ",e.pending]}),(0,j.jsxs)("p",{children:["In Progress: ",e.progress]}),(0,j.jsxs)("p",{children:["Done: ",e.done]}),(0,j.jsx)(N,{})]})]})},E="Task_text__vGIiB",S="Task_buttonsBoxOperation__TO9Fq",y="Task_button__V47ld";var w=s(526);const I={buttonBox:"TaskIcons_buttonBox__wkfD6",button:"TaskIcons_button__vntqI",pending:"TaskIcons_pending__93UD3",progress:"TaskIcons_progress__Q14AU",done:"TaskIcons_done__8bcWb",active:"TaskIcons_active__-H5mP"},B=[{iconId:1,buttonStatus:"pending",icon:(0,j.jsx)(w.MOG,{})},{iconId:2,buttonStatus:"progress",icon:(0,j.jsx)(w.zml,{})},{iconId:3,buttonStatus:"done",icon:(0,j.jsx)(w.usz,{})}],P=t=>{let{status:e,id:s}=t;const n=(0,g.T)(),a=B.map((t=>{let{buttonStatus:a,icon:i,iconId:o}=t;return(0,j.jsx)("button",{title:a,disabled:a===e,onClick:()=>n((0,l.qx)({id:s,status:a})),className:"".concat(I[e]," ").concat(I.button," ").concat(e===a?I.active:""),children:i},o)}));return(0,j.jsx)("div",{className:I.buttonBox,children:a})},A="TaskEditor_form__+91ls",F="TaskEditor_input__eEAwt",D="TaskEditor_button__aaHcY",L=t=>{let{id:e}=t;const s=(0,i.v9)(o.jF).find((t=>t._id===e)),[a,r]=(0,n.useState)(!1),[c,d]=(0,n.useState)((null===s||void 0===s?void 0:s.title)||""),[u,_]=(0,n.useState)((null===s||void 0===s?void 0:s.description)||""),m=(0,g.T)(),x=()=>r(!1);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("button",{className:D,onClick:()=>r(!0),children:"Edit"}),a&&(0,j.jsx)(k,{onClose:x,children:(0,j.jsxs)("form",{className:A,onSubmit:t=>{t.preventDefault();const s=t.currentTarget;if(""!==c||""!==u)return m((0,l.xJ)({title:c,description:u,id:e})),s.reset(),void x();T.ZP.error("Task or description cannot be empty. Enter some text!")},children:[(0,j.jsx)("input",{value:c,name:"text",className:F,onChange:t=>d(t.target.value)}),(0,j.jsx)("input",{value:u,name:"text",className:F,onChange:t=>_(t.target.value)}),(0,j.jsx)("button",{type:"submit",className:D,children:"Edit task"})]})})]})},z=(0,n.createContext)(void 0);let Y;const q=t=>{let{id:e,title:s,status:a,description:i}=t;const o=(0,g.T)(),{addNotification:r}=(()=>{const t=(0,n.useContext)(z);if(!t)throw new Error("useNotification must be used within a NotificationProvider");return t})();return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("h3",{className:E,children:s}),(0,j.jsx)("p",{children:i}),(0,j.jsx)(P,{status:a,id:e}),(0,j.jsxs)("div",{className:S,children:[(0,j.jsx)(L,{id:e}),(0,j.jsx)("button",{type:"button",className:y,onClick:()=>{try{o((0,l._5)(e)),r("Successful task delete")}catch(t){r("Please try again")}},children:"Delete"})]})]})},H="TaskList_empty__JmotR",J="TaskList_list__hC4eS",M="TaskList_item__mBbX7",O=()=>{const t=(0,i.v9)(o.jF),e=(0,i.v9)(o.NH);return(0,j.jsx)(j.Fragment,{children:e||0!==t.length?(0,j.jsx)("ul",{className:J,children:t.map((t=>{let{_id:e,title:s,status:n,description:a}=t;return(0,j.jsx)("li",{className:M,children:(0,j.jsx)(q,{id:e,title:s,status:n,description:a})},e)}))}):(0,j.jsx)("p",{className:H,children:"The task list is empty. Please add tasks.."})})};var R=s(200);const U=t=>{let{children:e}=t;return(0,j.jsx)("main",{children:e})},V=(t,e)=>{const s=(0,n.useRef)(0),a=(0,n.useCallback)((()=>{s.current&&clearTimeout(s.current),s.current=setTimeout(t,e)}),[t,e]),i=(0,n.useCallback)((()=>{s.current&&clearTimeout(s.current)}),[]);return(0,n.useEffect)((()=>()=>i()),[i]),{start:a,clear:i}},Z="Notification_notificationContainer__gLYRl",G="Notification_notification__rQccJ",Q=t=>{let{id:e,message:s,removeNotification:a}=t;const{start:i}=V((()=>a(e)),2e3);return(0,n.useEffect)((()=>{i()}),[i]),(0,j.jsx)("div",{className:G,onClick:()=>a(e),children:s},e)},W=t=>{let{children:e}=t;const[s,a]=(0,n.useState)([]),i=(0,n.useCallback)((t=>{a((e=>e.filter((e=>e.id!==t))))}),[]),o=(0,n.useCallback)((t=>{const e=Date.now();a((s=>[...s,{id:e,message:t}]))}),[]);return(0,n.useEffect)((()=>{Y=o}),[o]),(0,j.jsxs)(z.Provider,{value:{notifications:s,addNotification:o,removeNotification:i},children:[(0,j.jsx)("div",{className:Z,children:s.map((t=>(0,j.jsx)(Q,{id:t.id,message:t.message,removeNotification:i},t.id)))}),e]})};function K(){const t=(0,g.T)(),e=(0,i.v9)(o.NH);return(0,n.useEffect)((()=>{t((0,l.Jv)())}),[t]),(0,j.jsx)(U,{children:(0,j.jsxs)(W,{children:[(0,j.jsx)(a.ql,{title:"Your tasks"}),(0,j.jsx)(R.Z,{isLoading:e}),(0,j.jsx)(C,{}),(0,j.jsx)(O,{})]})})}}}]);
//# sourceMappingURL=826.197e6249.chunk.js.map