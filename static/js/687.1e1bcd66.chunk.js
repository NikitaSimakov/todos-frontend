"use strict";(self.webpackChunktodos_frontend=self.webpackChunktodos_frontend||[]).push([[687],{687:(t,s,e)=>{e.r(s),e.d(s,{default:()=>V});var n=e(791),a=e(50),o=e(420),i=e(31);const r="Sidebar_sidebar__S9EbY",c="Sidebar_infobox__ebB4g";var l=e(818),d=e(164),u=e(128);const _="Modal_overlay__b+zEz",m="Modal_modal__yEgVW",x="Modal_closeButton__3V9B-";var j=e(184);const h=document.getElementById("modal-root"),p=t=>{let{children:s,onClose:e}=t;(0,n.useEffect)((()=>{const t=t=>{"Escape"===t.key&&e()};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}}),[e]);const a=(0,j.jsx)("div",{onClick:t=>{t.target===t.currentTarget&&e()},className:_,children:(0,j.jsxs)("section",{className:m,children:[(0,j.jsx)("button",{onClick:e,className:x,type:"button",children:(0,j.jsx)(u.S1K,{})}),s]})});return(0,d.createPortal)(a,h)},k="TaskAdd_form__YTZSk",b="TaskAdd_input__sPaPO",T="TaskAdd_button__j6zaj",g="TaskAdd_submitButton__RU1nC";var v=e(153),N=e(218);const f=()=>{const[t,s]=(0,n.useState)(!1),[e,a]=(0,n.useState)(""),[o,i]=(0,n.useState)(""),r=(0,v.T)(),c=()=>{s(!1),a(""),i("")};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("button",{className:T,onClick:()=>s(!0),children:"Add new task"}),t&&(0,j.jsx)(p,{onClose:c,children:(0,j.jsxs)("form",{className:k,onSubmit:t=>{t.preventDefault();const s=t.currentTarget;""!==e&&""!==o?(r((0,l.gI)({title:e,description:o,status:"pending"})),s.reset(),c()):N.Am.error("Task or description cannot be empty. Enter some text!")},children:[(0,j.jsx)("input",{name:"text",placeholder:"Task title",className:b,onChange:t=>a(t.target.value)}),(0,j.jsx)("input",{name:"text",placeholder:"Task description",className:b,onChange:t=>i(t.target.value)}),(0,j.jsx)("button",{type:"submit",className:g,children:"Add task"})]})})]})},S=()=>{const t=(0,o.v9)(i.jF);const s=function(t){return t.reduce(((t,s)=>(s.status in t?t[s.status]++:t[s.status]=1,t)),{pending:0,progress:0,done:0})}(t);return(0,j.jsxs)("aside",{className:r,children:[(0,j.jsx)("h2",{children:"Task manager"}),(0,j.jsxs)("ul",{className:c,children:[(0,j.jsxs)("li",{children:["Total Tasks: ",t.length]}),(0,j.jsxs)("li",{children:["Pending: ",s.pending]}),(0,j.jsxs)("li",{children:["In Progress: ",s.progress]}),(0,j.jsxs)("li",{children:["Done: ",s.done]}),(0,j.jsx)(f,{})]})]})},C="Task_title__5yswI",E="Task_description__1vJbm",y="Task_buttonsBoxOperation__TO9Fq",I="Task_button__V47ld";var w=e(526);const B={buttonBox:"TaskIcons_buttonBox__wkfD6",button:"TaskIcons_button__vntqI",pending:"TaskIcons_pending__93UD3",progress:"TaskIcons_progress__Q14AU",done:"TaskIcons_done__8bcWb",active:"TaskIcons_active__-H5mP"},A=[{iconId:1,buttonStatus:"pending",icon:(0,j.jsx)(w.MOG,{})},{iconId:2,buttonStatus:"progress",icon:(0,j.jsx)(w.zml,{})},{iconId:3,buttonStatus:"done",icon:(0,j.jsx)(w.usz,{})}],F=t=>{let{status:s,id:e}=t;const n=(0,v.T)(),a=A.map((t=>{let{buttonStatus:a,icon:o,iconId:i}=t;return(0,j.jsx)("button",{title:a,disabled:a===s,onClick:()=>n((0,l.qx)({id:e,status:a})),className:"".concat(B[s]," ").concat(B.button," ").concat(s===a?B.active:""),children:o},i)}));return(0,j.jsx)("div",{className:B.buttonBox,children:a})},P="TaskEditor_form__+91ls",D="TaskEditor_input__eEAwt",L="TaskEditor_button__aaHcY",z=t=>{let{id:s}=t;const e=(0,o.v9)(i.jF).find((t=>t._id===s)),[a,r]=(0,n.useState)(!1),[c,d]=(0,n.useState)((null===e||void 0===e?void 0:e.title)||""),[u,_]=(0,n.useState)((null===e||void 0===e?void 0:e.description)||""),m=(0,v.T)(),x=()=>r(!1);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("button",{className:L,onClick:()=>r(!0),children:"Edit"}),a&&(0,j.jsx)(p,{onClose:x,children:(0,j.jsxs)("form",{className:P,onSubmit:t=>{t.preventDefault();const e=t.currentTarget;if(""!==c||""!==u)return m((0,l.xJ)({title:c,description:u,id:s})),e.reset(),void x();N.ZP.error("Task or description cannot be empty. Enter some text!")},children:[(0,j.jsx)("input",{value:c,name:"text",className:D,onChange:t=>d(t.target.value)}),(0,j.jsx)("input",{value:u,name:"text",className:D,onChange:t=>_(t.target.value)}),(0,j.jsx)("button",{type:"submit",className:L,children:"Edit task"})]})})]})},q=t=>{let{_id:s,title:e,status:n,description:a}=t;const o=(0,v.T)();return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("h3",{className:C,children:e}),(0,j.jsx)("p",{className:E,children:a}),(0,j.jsx)(F,{status:n,id:s}),(0,j.jsxs)("div",{className:y,children:[(0,j.jsx)(z,{id:s}),(0,j.jsx)("button",{type:"button",className:I,onClick:()=>o((0,l._5)(s)),children:"Delete"})]})]})},H="TaskList_empty__JmotR",J="TaskList_list__hC4eS",M="TaskList_item__mBbX7",O=()=>{const t=(0,o.v9)(i.jF),s=(0,o.v9)(i.NH);return(0,j.jsx)(j.Fragment,{children:s||0!==t.length?(0,j.jsx)("ul",{className:J,children:t.map((t=>{let{_id:s,title:e,status:n,description:a}=t;return(0,j.jsx)("li",{className:M,children:(0,j.jsx)(q,{_id:s,title:e,status:n,description:a})},s)}))}):(0,j.jsx)("p",{className:H,children:"The task list is empty. Please add tasks.."})})};var Y=e(200);const U=t=>{let{children:s}=t;return(0,j.jsx)("main",{children:s})};function V(){const t=(0,v.T)(),s=(0,o.v9)(i.NH);return(0,n.useEffect)((()=>{t((0,l.Jv)())}),[t]),(0,j.jsxs)(U,{children:[(0,j.jsx)(a.ql,{title:"Your tasks"}),(0,j.jsx)(Y.Z,{isLoading:s}),(0,j.jsx)(S,{}),(0,j.jsx)(O,{})]})}}}]);
//# sourceMappingURL=687.1e1bcd66.chunk.js.map